<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة إدارة مستودعات DEB المتقدمة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-cubes"></i>
                <h1>منصة إدارة مستودعات DEB المتقدمة</h1>
            </div>
        </header>
        
        <div class="main-content">
            <div class="auth-section fade-in">
                <h2 class="section-title"><i class="fas fa-key"></i> إعدادات المصادقة</h2>
                <div class="input-group">
                    <label for="github-token"><i class="fas fa-lock"></i> توكن GitHub:</label>
                    <input type="password" id="github-token" placeholder="أدخل توكن الوصول الشخصي">
                </div>
                <div class="input-group">
                    <label for="repo-owner"><i class="fas fa-user"></i> مالك المستودع:</label>
                    <input type="text" id="repo-owner" placeholder="اسم المستخدم أو المنظمة">
                </div>
                <div class="input-group">
                    <label for="repo-name"><i class="fas fa-database"></i> اسم المستودع:</label>
                    <input type="text" id="repo-name" placeholder="اسم المستودع">
                </div>
                <div class="input-group">
                    <label for="repo-branch"><i class="fas fa-code-branch"></i> الفرع:</label>
                    <input type="text" id="repo-branch" value="main" placeholder="اسم الفرع">
                </div>
                <button id="save-token" class="btn"><i class="fas fa-save"></i> حفظ الإعدادات</button>
                <button id="load-packages" class="btn btn-secondary" style="margin-top: 10px;"><i class="fas fa-download"></i> تحميل الحزم</button>
            </div>
            
            <div class="upload-section fade-in">
                <h2 class="section-title"><i class="fas fa-upload"></i> رفع حزمة DEB</h2>
                <div class="upload-area" id="drop-zone">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <p class="upload-text">اسحب وأفلت ملف DEB هنا أو</p>
                    <label for="file-input" class="btn"><i class="fas fa-file"></i> اختر ملف</label>
                    <input type="file" id="file-input" accept=".deb" hidden>
                </div>
                
                <div class="file-info" id="file-info"></div>
                
                <div class="package-details-section" id="package-details-section">
                    <h3 class="section-title"><i class="fas fa-info-circle"></i> تفاصيل الحزمة</h3>
                    <div class="details-grid">
                        <div class="detail-item">
                            <label for="package-name">اسم الحزمة:</label>
                            <input type="text" id="package-name" placeholder="اسم الحزمة">
                        </div>
                        <div class="detail-item">
                            <label for="package-version">الإصدار:</label>
                            <input type="text" id="package-version" placeholder="الإصدار">
                        </div>
                        <div class="detail-item">
                            <label for="package-architecture">الهيكلة:</label>
                            <select id="package-architecture">
                                <option value="iphoneos-arm">iphoneos-arm</option>
                                <option value="iphoneos-arm64" selected>iphoneos-arm64</option>
                                <option value="iphoneos-arm64e">iphoneos-arm64e</option>
                                <option value="linux-x86">linux-x86</option>
                                <option value="linux-x86_64">linux-x86_64</option>
                            </select>
                        </div>
                        <div class="detail-item">
                            <label for="package-section">القسم:</label>
                            <select id="package-section">
                                <option value="Utilities">Utilities</option>
                                <option value="Development">Development</option>
                                <option value="Multimedia">Multimedia</option>
                                <option value="Networking">Networking</option>
                                <option value="System">System</option>
                                <option value="Themes">Themes</option>
                                <option value="Tweaks">Tweaks</option>
                            </select>
                        </div>
                        <div class="detail-item">
                            <label for="package-maintainer">المشرف:</label>
                            <input type="text" id="package-maintainer" placeholder="اسم المشرف">
                        </div>
                        <div class="detail-item">
                            <label for="package-depends">التبعيات:</label>
                            <input type="text" id="package-depends" placeholder="الحزم المعتمدة عليها">
                        </div>
                        <div class="detail-item">
                            <label for="package-author">المؤلف:</label>
                            <input type="text" id="package-author" placeholder="اسم المؤلف">
                        </div>
                        <div class="detail-item">
                            <label for="package-display-name">اسم العرض:</label>
                            <input type="text" id="package-display-name" placeholder="اسم العرض">
                        </div>
                    </div>
                    <div class="detail-item">
                        <label for="package-description">الوصف:</label>
                        <textarea id="package-description" rows="3" placeholder="وصف الحزمة" style="width: 100%; padding: 12px; background: rgba(26, 26, 46, 0.5); border: 1px solid rgba(110, 68, 255, 0.3); border-radius: 8px; color: var(--light); font-family: inherit;"></textarea>
                    </div>
                </div>
                
                <button id="upload-btn" class="btn" disabled><i class="fas fa-paper-plane"></i> رفع إلى GitHub</button>
                
                <div class="progress-section" id="progress-section">
                    <h3>تقدم الرفع</h3>
                    <div class="progress-bar">
                        <div class="progress" id="upload-progress"></div>
                    </div>
                    <p id="progress-status">جاري التحضير...</p>
                </div>
                
                <div class="result-section" id="result-section">
                    <h3>نتيجة الرفع</h3>
                    <div id="result-message"></div>
                </div>

                <div class="packages-list" id="packages-list" style="display: none;">
                    <h3>الحزم الموجودة في المستودع</h3>
                    <div id="packages-container"></div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>© 2023 منصة إدارة مستودعات DEB المتكاملة. جميع الحقوق محفوظة.</p>
        </div>
    </div>

    <!-- نافذة تعديل الاسم -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> تعديل اسم الحزمة</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="new-package-name">الاسم الجديد:</label>
                    <input type="text" id="new-package-name" placeholder="أدخل الاسم الجديد للحزمة">
                </div>
                <div class="modal-actions">
                    <button id="confirm-edit" class="btn btn-success"><i class="fas fa-check"></i> تأكيد</button>
                    <button id="cancel-edit" class="btn btn-danger"><i class="fas fa-times"></i> إلغاء</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>